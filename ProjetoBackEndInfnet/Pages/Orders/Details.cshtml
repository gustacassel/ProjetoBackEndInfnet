@page "{id:long}"
@using ProjetoBackEndInfnet.Models
@model ProjetoBackEndInfnet.Pages.Orders.DetailsModel
@{
    ViewData["Title"] = "Detalhes do Pedido";
}

<div class="container mt-4">
    <h1 class="display-5"><i class="bi bi-info-circle"></i> Detalhes do Pedido</h1>
    <p class="text-muted">Informações detalhadas sobre o pedido e seus itens.</p>
    <hr />

    @if (Model.Order != null)
    {
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Pedido #@Model.Order.Id</h5>
            </div>
            <div class="card-body">
                <p><strong>Usuário:</strong> @Model.Order?.User?.Name</p>
                <p><strong>Endereço:</strong> @Model.Order?.Address?.Street, @Model.Order?.Address?.City, @Model.Order?.Address?.State</p>
                <p><strong>Status:</strong> @Model.Order?.Status</p>
                <p><strong>Data do Pedido:</strong> @Model.Order?.OrderDate.ToString("dd/MM/yyyy HH:mm")</p>
            </div>
        </div>

        <h3>Itens do Pedido</h3>
        @if (Model.Order?.OrderItems != null && Model.Order.OrderItems.Any())
        {
            <ul class="list-group">
                @foreach (var item in Model.Order.OrderItems)
                {
                    <li class="list-group-item">
                        <strong>Produto:</strong> @item.Product?.Description <br />
                        <strong>Preço:</strong> @item.UnitPrice.ToString("C2") <br />
                        <strong>Quantidade:</strong> @item.Quantity <br />
                    </li>
                }
            </ul>
        }
        else
        {
            <div class="alert alert-info mt-3">
                Este pedido não possui itens.
            </div>
        }

        <div class="mt-4">
            <a asp-page="./Index" class="btn btn-secondary">
                <i class="bi bi-arrow-left-circle"></i> Voltar à Lista
            </a>
        </div>
    }
    else
    {
        <div class="alert alert-warning" role="alert">
            Pedido não encontrado.
        </div>
    }
</div>