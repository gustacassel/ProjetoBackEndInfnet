@page "{id:long}"
@using ProjetoBackEndInfnet.Models
@model ProjetoBackEndInfnet.Pages.OrderItems.DeleteModel
@{
    ViewData["Title"] = "Excluir Item";
}

<div class="container mt-4">
    <h1 class="display-5 text-danger"><i class="bi bi-trash"></i> Excluir Item</h1>
    <p class="text-muted">Tem certeza que deseja excluir este item? Esta ação não pode ser desfeita.</p>
    <hr />

    @if (Model.OrderItem != null)
    {
        <div class="card bg-light mb-3">
            <div class="card-body">
                <h5 class="card-title">Item #@Model.OrderItem.Id do Pedido #@Model.OrderItem.OrderId</h5>
                <p class="card-text">
                    <strong>Produto:</strong> @Model.OrderItem.Product?.Description <br />
                    <strong>Preço Unitário:</strong> @Model.OrderItem.UnitPrice.ToString("C2") <br />
                    <strong>Quantidade:</strong> @Model.OrderItem.Quantity <br />
                    <strong>Subtotal:</strong> @((Model.OrderItem.UnitPrice * Model.OrderItem.Quantity).ToString("C2"))
                </p>
            </div>
        </div>

        <form method="post">
            <input type="hidden" asp-for="OrderItem.Id" />
            <input type="hidden" asp-for="OrderItem.OrderId" />
            <div class="d-flex">
                <button type="submit" class="btn btn-danger me-2">
                    <i class="bi bi-trash"></i> Excluir
                </button>
                <a asp-page="./Index" asp-route-orderId="@Model.OrderItem.OrderId" class="btn btn-secondary">
                    <i class="bi bi-arrow-left-circle"></i> Cancelar
                </a>
            </div>
        </form>
    }
    else
    {
        <div class="alert alert-warning" role="alert">
            Item de pedido não encontrado.
        </div>
    }
</div>